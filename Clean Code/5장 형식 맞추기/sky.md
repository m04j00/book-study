# 05. 형식 맞추기

> 프로그래머라면 형식을 깔끔하게 맞춰 코드를 짜야 한다. (생략) 팀으로 일한다면 팀이 합의해 규칙을 정하고 그 규칙을 착실히 따라야 한다.
> 

### 형식을 맞추는 목적

> 어쩌면 ‘돌아가는 코드’가 전문 개발자의 일차적인 의무라 여길지도 모르겠다. 하지만 이 책을 읽으면서 생각이 바뀌었기 바란다. 오늘 구현한 기능이 다음 버전에서 바뀔 확률은 아주 높다. 그런데 오늘 구현한 코드의 가독성은 앞으로 바뀔 코드의 품질에 지대한 영향을 미친다.


<br/>


## 원활한 소통을 장려하는 코드 형식

### **적절한 행 길이를 유지하라**

JUnit, Tomcat 등의 java 프로젝트를 조사한 결과, 대부분 200줄 정도인 파일로도 커다란 시스템을 구축할 수 있음을 알 수 있다. 

- **신문 기사처럼 작성하라**
    
    신문의 표제처럼, 소스 파일도 이름은 간단하면서도 설명이 가능할 정도로 신경써서 작성해야 한다. 소스파일 첫 부분은 고차원 개념과 알고리즘을 설명하고, 아래로 내려갈수록 그 의도롤 세세히 묘사한다. 대다수의 기사가 아주 짧듯이, 소스 코드도 불필요하게 길어서는 안 된다.
    
- **개념은 빈 행으로 분리하라**
    
    코드의 가독성을 위해 빈 행을 삽입한다. 빈 행은 새로운 개념을 시작한다는 시각적 단서로, 간단한 규칙이면서도 코드의 세로 레이아웃에 심오한 영향을 미친다.
    
- **세로 밀집도, 수직 거리**
    
    > 줄바꿈이 개념을 분리한다면 세로 밀집도는 연관성을 의미한다. 서로 밀접한 코드 행은 세로로 가까이 놓여야 한다는 뜻이다.
    > 
    
    함수나 변수가 정의된 코드를 찾으려 소스 파일과 클래스를 여기저기 뒤지는 등 시간과 노력을 낭비하는것을 막기 위해, 서로 밀접한 개념은 한 파일에 속해야 마땅하다.
    
- **변수 선언 →** 변수는 사용하는 위치에 최대한 가까이 선언한다.
- **인스턴스 변수 →** 인스턴스 변수는 클래스 맨 처음에 선언한다.
- **종속 함수** → 한 함수가 다른 함수를 호출한다면 두 함수는 세로로 가까이 배치한다. 또한 가능하다면 호출하는 함수를 호출되는 함수보다 먼저 배치한다.
- **개념적 유사성**
    - 한 함수가 다른 함수를 호출하는 직접적인 종속성의 경우
    - 변수와 그 변수를 사용하는 함수의 경우
    - 비슷한 동작을 수행하는 일군의 함수인 경우
    
    위의 경우처럼 개념적인 친화도가 높을수록 코드를 가까이 배치한다.
    
<br/>


### 가로 형식 맞추기

> 100자나 120자에 달해도 나쁘지 않다. 하지만 그 이상은 솔직히 주의부족이다.
> 
- **들여쓰기**
    
    > 이렇듯 범위로 이뤄진 계층을 표현하기 위해 우리는 코드를 들여쓴다. (생략) 들여쓰기한 파일은 구조가 한눈에 들어온다. (생략) 반면, 들여쓰기 하지 않은 코드는 열심히 분석하지 않는 한 거의 불가해하다.
    > 

- **팀 규칙**
    
    팀은 한 가지 규칙에 합의해야 하고, 모든 팀원은 그 규칙을 따라야 한다.
    
    *(밥 아저씨의 형식 규칙;저자가 사용한 코드 규칙으로, 좋은 예시로서 참고할 수 있다. p114)*
    

### 느낀점

아직 회사에서 팀원들과 함께 프로젝트를 진행해본 경험이 없지만, 실습기간동안 코드리뷰를 받으면서 변수명/함수명의 이름 규칙 다음으로 가장 많은 피드백을 받았던 부분이 코드 스타일이었다. 띄어쓰기부터 세로 간격, 들여쓰기까지 어떻게 보면 사소하다고 생각할 수 있는 부분들에서 많은 주의를 받았고 회사에서는 어떤 규칙으로 코드를 작성하고 있는지 많이 알려주셨었다.  

 이제는 친구들과 프로젝트를 진행할 때처럼 ‘각자 맡은 부분만 잘 동작하도록 하자-’는 마음가짐은 버려야 할 때가 온 것 같다. 앞으로의 취업을 위해^^ 미래의 팀 코드규칙을 익히기 전에 나의 코드스타일이 어떤지 한번 알아두는 것도 좋은 경험이 될 것 같다.
